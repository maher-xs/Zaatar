# Zaatar – خطة التطوير والتحديثات (نظام عربي متكامل)

قائمة واضحة بما يجب تطويره وتحديثه حتى يصبح زعتر نظاماً عربياً كاملاً دون مشاكل.

---

## 1. اللغة والواجهة العربية

| # | التطوير | الملف / المكان | الحالة |
|---|---------|----------------|--------|
| 1.1 | تعيين العربية كلغة افتراضية للواجهة (GNOME) عند أول تشغيل | `build.sh` أو firstboot | يمكن إضافة systemd unit أو script يضبط `gsettings set org.gnome.system.locality region 'ar_SY'` ويفرض واجهة عربية |
| 1.2 | تفعيل لوحة المفاتيح العربية (مثلاً توزيع عربي) افتراضياً في IBus | `build.sh` | تم: إعداد dconf افتراضي لمصادر الإدخال: إنجليزي (xkb us) + عربي (ibus m17n:ar:kbd). |
| 1.3 | التأكد من ظهور التاريخ والأرقام بالعربية حيث يدعمه GNOME | `build.sh` / locale | `ar_SY` مضبوط؛ مراجعة `LC_TIME` و `LC_NUMERIC` إن لزم |
| 1.4 | (اختياري) دعم لهجات أخرى: مصر، الأردن، السعودية | `build.sh` / docs | إما حزم إضافية (langpacks) أو توثيق تبديل الـ locale والمنطقة |

---

## 2. الحزم والتطبيقات

| # | التطوير | الملف | الحالة |
|---|---------|-------|--------|
| 2.1 | مراجعة حزم الإملاء والقواميس العربية | `build.sh` | `hunspell-ar` موجود؛ التأكد من وجود قاموس افتراضي عربي في التطبيقات |
| 2.2 | دعم الكتابة من اليمين لليسار (RTL) في المتصفح والتطبيقات | - | عادة يأتي مع `ar_SY` و GTK؛ التأكد من عدم تعطيل RTL في أي إعداد افتراضي |
| 2.3 | (اختياري) إضافة تطبيقات مفيدة للمستخدم العربي | `build.sh` | مثلاً: متصفح (Firefox غالباً مضمن)، تطبيق مراسلة، أو أي flatpak تريده افتراضياً |
| 2.4 | تحديث قائمة الحزم بشكل دوري | `build.sh` | مراجعة أسماء الحزم مع كل major إصدار Fedora/Bluefin |

---

## 3. الثيم والمظهر

| # | التطوير | الملف | الحالة |
|---|---------|-------|--------|
| 3.1 | الثيم الحالي (Tahoe) مع `HOME=/tmp` | `build.sh` | يعمل؛ الإبقاء عليه |
| 3.2 | (اختياري) توفير ثيم بديل أو لون مختلف | `build.sh` | Tahoe يدعم `-color`؛ يمكن توثيق الخيارات أو سكربت يختار لوناً |
| 3.3 | التأكد من وضوح الخطوط العربية في كل الواجهة | - | Noto Arabic مضاف؛ مراجعة حجم الخط الافتراضي إن احتجت |

---

## 4. الهوية والعلامة (Branding)

| # | التطوير | الملف | الحالة |
|---|---------|-------|--------|
| 4.1 | شعار زعتر في الـ workflow و Artifact Hub | `build.yml` → `IMAGE_LOGO_URL` | تم: الرابط يشير إلى `logo.png` في جذر المستودع. أضف ملف `logo.png` (مثلاً 200×200) في الجذر لتفعيل الشعار. |
| 4.2 | إصدار ديناميكي (مثلاً 1.0، 1.1) بدل ثابت "زعتر 1.0" | `build.sh` | يمكن استخدام متغير بناء أو تاريخ أو tag في `PRETTY_NAME` |
| 4.3 | Artifact Hub: تعبئة `repositoryID` و `owners` إن أردت الظهور هناك | `artifacthub-repo.yml` | استبدال القيم الافتراضية |

---

## 5. البناء والـ CI

| # | التطوير | الملف | الحالة |
|---|---------|-------|--------|
| 5.1 | بناء الصورة: يعمل مع `rootfs=btrfs` وقرص/ISO | `build-disk.yml`, `disk.toml`, `iso.toml` | تم ضبطه؛ مراقبة أي تحديثات من bootc-image-builder |
| 5.2 | الاحتفاظ بالـ artifacts (ISO/qcow2) لفترة معقولة | `build-disk.yml` | `retention-days: 0` → يمكن رفعه إلى 7 أو 14 يوم |
| 5.3 | (اختياري) تثبيت base image بـ digest لبناء قابل للتكرار | `Containerfile` | استبدال `:stable` بـ `@sha256:...` عند الرغبة |

---

## 6. التوثيق والمحتوى

| # | التطوير | الملف | الحالة |
|---|---------|-------|--------|
| 6.1 | README عربي (مثلاً README.ar.md) للمستخدم النهائي | جذر المشروع | وصف زعتر، طريقة التثبيت والتبديل، الرابط للإنجليزي |
| 6.2 | دليل تثبيت واضح (من صورة، من ISO، من qcow2) | README أو docs/ | خطوة بخطوة مع أوامر جاهزة للنسخ |
| 6.3 | توثيق اختيار المنطقة/اللغة (سوريا، مصر، إلخ) | docs/ | كيف يغيّر المستخدم الـ locale والمنطقة الزمنية |
| 6.4 | CONTRIBUTING.md للمساهمين (كيف يبنون ويختبرون) | جذر المشروع | إنجليزي حسب اتفاق المشروع |

---

## 7. الجودة والأمان

| # | التطوير | الملف | الحالة |
|---|---------|-------|--------|
| 7.1 | تشغيل `just lint` (shellcheck) في CI على السكربتات | workflow جديد أو job في build.yml | يقلل أخطاء build.sh |
| 7.2 | SECURITY.md لسياسة الإبلاغ عن الثغرات | جذر المشروع | قالب GitHub أو نص قصير |
| 7.3 | التأكد من عدم وجود أسرار أو مفاتيح في المستودع | - | `cosign.key` في .gitignore؛ مراجعة دورية |

---

## 8. أولويات التنفيذ (اقتراح)

**أولوية عالية (بدون مشاكل أساسية):**
1. **4.1** – شعار زعتر في `build.yml`.
2. **1.2** – تفعيل لوحة المفاتيح العربية/مصدر الإدخال افتراضياً.
3. **6.1 + 6.2** – README عربي ودليل تثبيت واضح.

**أولوية متوسطة (تجربة مستخدم أفضل):**
4. **1.1** – جعل واجهة GNOME عربية افتراضياً عند أول تشغيل.
5. **5.2** – رفع `retention-days` لـ artifacts.
6. **6.3** – توثيق تغيير المنطقة/اللغة.

**أولوية أقل (تحسينات إضافية):**
7. **4.2** – إصدار ديناميكي في `PRETTY_NAME`.
8. **7.1** – CI lint للسكربتات.
9. **2.3** – حزم أو تطبيقات إضافية للمستخدم العربي.

---

بعد تنفيذ البنود ذات الأولوية العالية والمتوسطة، يصبح زعتر جاهزاً كـ **نظام عربي متكامل** من حيث اللغة والواجهة والتثبيت والهوية، مع تقليل المشاكل الشائعة (لغة، إدخال، وضوح التثبيت).
