# anaconda-iso: root + /boot (types from workflow rootfs: btrfs).
# ISO and installer branding so "Zaatar" appears in installer, boot menu, and ISO label.

[customizations.iso]
volume_id = "Zaatar"
application_id = "Zaatar 1.0"
publisher = "Zaatar"

[[customizations.filesystem]]
mountpoint = "/boot"
minsize = "512 MiB"

[[customizations.filesystem]]
mountpoint = "/"
minsize = "10 GiB"

[customizations.installer.kickstart]
contents = """
# Install Zaatar (our system) â€“ not the installer base
%post
bootc switch --mutate-in-place --transport registry ghcr.io/maher-xs/zaatar:latest
# Demo user for testing (same as container)
useradd -m -G wheel -s /bin/bash demo 2>/dev/null || true
echo 'demo:zaatar' | chpasswd 2>/dev/null || true
%end
"""

[customizations.installer.modules]
enable = [
  "org.fedoraproject.Anaconda.Modules.Storage",
  "org.fedoraproject.Anaconda.Modules.Runtime"
]
disable = [
  "org.fedoraproject.Anaconda.Modules.Network",
  "org.fedoraproject.Anaconda.Modules.Security",
  "org.fedoraproject.Anaconda.Modules.Services",
  "org.fedoraproject.Anaconda.Modules.Users",
  "org.fedoraproject.Anaconda.Modules.Subscription",
  "org.fedoraproject.Anaconda.Modules.Timezone"
]
